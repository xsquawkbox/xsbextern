cmake_minimum_required(VERSION 3.0.2)
set(SKIP_INSTALL_ALL TRUE)
add_subdirectory(zlib-1.2.8)
set(ZLIB_FOUND TRUE)
set(ZLIB_INCLUDE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/zlib-1.2.8 ${CMAKE_CURRENT_BINARY_DIR}/zlib-1.2.8)
set(ZLIB_LIBRARY $<TARGET_FILE:zlibstatic>)

set(PNG_FRAMEWORK FALSE CACHE BOOL "Build libpng as Framework" FORCE)
set(PNG_DEBUG FALSE CACHE BOOL "Build libpng with debuggings" FORCE)
set(PNG_STATIC TRUE CACHE BOOL "Build libpng static" FORCE)
set(PNG_SHARED FALSE CACHE BOOL "Build libpng shared" FORCE)
set(PNG_TESTS FALSE CACHE BOOL "Build libpng tests" FORCE)
add_subdirectory(lpng1623)
set(PNG_FOUND TRUE)
set(PNG_LIBRARY png_static)
add_dependencies(png_static zlibstatic)

# PCRE
set(PCRE_BUILD_PCREGREP OFF CACHE BOOL "Build pcregrep")
set(PCRE_BUILD_TESTS OFF CACHE BOOL "Build pcre tests")
set(PCRE_SHOW_REPORT OFF CACHE BOOL "Show PCRE configuration report")
add_subdirectory(pcre-8.37)

# CURL
set(BUILD_CURL_EXE OFF CACHE BOOL  "Build CURL exe" FORCE)
set(CURL_STATICLIB ON CACHE BOOL "Build CURL Static Library" FORCE)
set(HTTP_ONLY ON CACHE BOOL "HTTP supprt only (disable other protos)" FORCE)
set(CURL_DISABLE_CRYPTO_AUTH ON CACHE BOOL "Disable Cryptographic Authentication" FORCE)
set(ENABLE_MANUAL OFF CACHE BOOL "Build the CURL Manual" FORCE)
set(BUILD_TESTING OFF CACHE BOOL "Build CURL Test Suite" FORCE)
add_subdirectory(curl-7.53.1)
